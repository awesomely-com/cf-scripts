document.addEventListener("DOMContentLoaded",()=>{const K=["utm_medium","utm_source","utm_campaign","utm_term","fbclid","gclid","wbraid","cid","affiliate","utm_id","utm_click_id","cid","click_id"];function H(w){return new URLSearchParams(window.location.search).get(w)}const D={};K.forEach((w)=>{const j=H(w);if(j&&j!=="null")D[w]=j});const G=H("utm_content");if(G&&G!=="null")D.utm_content=G;if(window.slForUrls)D.sl=window.slForUrls;function J(){const w=new URLSearchParams;for(let j in D)if(D.hasOwnProperty(j))w.append(j,D[j]);return w.toString()}document.querySelectorAll("a").forEach((w)=>{const j=w.getAttribute("href");if(j)try{const z=new URL(j,window.location.origin),E=J();if(E){const A=z.searchParams;new URLSearchParams(E).forEach((F,B)=>{if(B==="utm_content"&&!A.has("utm_content"))A.append(B,F);else if(B!=="utm_content")A.append(B,F)}),z.search=A.toString()}w.setAttribute("href",z.toString())}catch(z){console.error("Invalid URL:",j)}}),document.querySelectorAll("img[data-imagelink]").forEach((w)=>{const j=w.getAttribute("data-imagelink");if(j)try{const z=new URL(j,window.location.origin),E=J();if(E){const A=z.searchParams;new URLSearchParams(E).forEach((F,B)=>{if(B==="utm_content"&&!A.has("utm_content"))A.append(B,F);else if(B!=="utm_content")A.append(B,F)}),z.search=A.toString()}w.setAttribute("data-imagelink",z.toString())}catch(z){console.error("Invalid URL:",j)}})});
